<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>
        <meta charset="utf-8" />
        <title>Task 6</title>
        <script src="https://code.jquery.com/jquery-3.6.3.slim.min.js" integrity="sha256-ZwqZIVdD3iXNyGHbSYdsmWP//UBokj2FHAxKuSBKDSo=" crossorigin="anonymous"></script>
    </head>

    <body>
        <script type="application/javascript">
            function createFamilyTree() {
                $("body").append("\
                <table>\
                    <thead>\
                        <tr>\
                            <th>Firstname</th>\
                            <th>Lastname</th>\
                        </tr>\
                    </thead>\
                    <tbody>\
                    </tbody>\
                </table>");
            };
            function addNewMember(firstName, lastName, position) {
                if (position == "before")
                {
                    $("tbody").prepend(`\
                    <tr>\
                        <td>${firstName}</td>\
                        <td>${lastName}</td>\
                        <td class="delete_btn">(x)</td>\
                    </tr>`);
                    $("td.delete_btn").css("background-color", "orange");
                } else {
                    $("tbody").append(`\
                    <tr>\
                        <td>${firstName}</td>\
                        <td>${lastName}</td>\
                        <td class="delete_btn">(x)</td>\
                    </tr>`);
                    $("td.delete_btn").css("background-color", "orange");
                }    
            };
            function createForm () {
                $("table").before('\
                <input type="text" id="firstname" name="firstname">\
                <input type="text" id="lastname" name="lastname">\
                <select id="position">\
                    <option value="before" selected>Before</option>\
                    <option value="after">After</option>\
                </select>\
                <input class="submit" type="submit" value="Submit">')
            };
            createFamilyTree();
            createForm();
            $("input:nth-of-type(3)").click( function () {
                const firstName = $("#firstname").val();
                const lastName = $("#lastname").val();
                const position = $("#position option:selected").val();
                addNewMember(firstName, lastName, position);
                $("td.delete_btn").click( function () {
                    $(this).parent().remove();
                });
            });
        </script>
    </body>

</html>
